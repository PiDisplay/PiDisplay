## PiDisplay

[Umbrel](https://github.com/getumbrel/umbrel) UI developed for 3.5" GPIO screens

---

- Intended to be run as part of the Umbrel App system (hence the docker-compose)
- See [Renderer](https://github.com/UmbrUI/UmbrUI-Renderer) for SPI screen image

Milestones:
- [x] Use SPI screen without needing higher privileges
- [x] Connect to BTC & LND services
- [x] Allow user to chose what is displayed
- [ ] Allow user to set screen size
- [ ] Shutdown script to blank out screen on uninstall / shutdown (Not worked as expected)

The goal is to be able to present the user with some helpful information such as: 
- [x] IP address 
- [x] TOR address 
- [x] QR Code to link to url
- [x] Funds Status
- [x] How many channels
- [x] Forwards in the last 24hrs
- [x] Sync status

Early doors figma: https://www.figma.com/file/nPWWBp3BCrX71FmxRNnj1M/UmbrUI?node-id=0%3A1

We can go the Raspiblitz route and add some touchscreen functionality but for now I think this should focus on presenting some basic data to allow the user to get up and running.

On Pi:
```
python3 ui.py
```

### Autogenerated files

For this, you need the googleapis submodule. You can do this using
```sh
git submodule init
git submodule update
```

Also, you need to install the `grpcio-tools` via `sudo pip3 install grpcio-tools` on your system. 

Then, run the `generate-lnd-headers.sh` script:

```
./generate-lnd-headers.sh v0.12.1-beta
```

You can replace `v0.12.1-beta` with the tag/branch of the [LND GitHub repo](https://github.com/lightningnetwork/lnd) you want to use.
Please make sure to not use a version that is later than what's currently included in Umbrel (LND 0.12.1 in Umbrel 0.3.10).

